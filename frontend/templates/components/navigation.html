<!-- Navigation Component -->
<nav class="navbar navbar-expand-lg navbar-dark bg-dark fixed-top">
    <div class="container-fluid">
        <!-- Brand with Animation -->
        <a class="navbar-brand animated-brand" href="index.html">
            <div class="brand-container">
                <div class="brand-icon">
                    <i class="fas fa-brain"></i>
                </div>
                <div class="brand-text">
                    <span class="brand-title">CareerAI</span>
                    <small class="brand-subtitle">Smart Career Guidance</small>
                </div>
            </div>
        </a>

        <!-- Mobile Toggle Button -->
        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" 
                aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>

        <!-- Navigation Links -->
        <div class="collapse navbar-collapse" id="navbarNav">
            <ul class="navbar-nav me-auto">
                <li class="nav-item">
                    <a class="nav-link active" href="#dashboard" data-section="dashboard">
                        <i class="fas fa-tachometer-alt me-2"></i>Dashboard
                    </a>
                </li>
                <li class="nav-item dropdown">
                    <a class="nav-link dropdown-toggle" href="#" id="analysisDropdown" role="button" 
                       data-bs-toggle="dropdown" aria-expanded="false">
                        <i class="fas fa-chart-line me-2"></i>Analysis
                    </a>
                    <ul class="dropdown-menu dropdown-menu-dark">
                        <li><a class="dropdown-item" href="#" data-bs-toggle="modal" data-bs-target="#fileUploadModal">
                            <i class="fas fa-upload me-2"></i>Resume Upload</a></li>
                        <li><a class="dropdown-item" href="#" data-bs-toggle="modal" data-bs-target="#skillsAssessmentModal">
                            <i class="fas fa-graduation-cap me-2"></i>Skills Assessment</a></li>
                        <li><hr class="dropdown-divider"></li>
                        <li><a class="dropdown-item" href="#analysis" data-section="analysis">
                            <i class="fas fa-chart-bar me-2"></i>View Reports</a></li>
                    </ul>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="#" data-bs-toggle="modal" data-bs-target="#careerExplorationModal">
                        <i class="fas fa-compass me-2"></i>Explore Careers
                    </a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="#recommendations" data-section="recommendations">
                        <i class="fas fa-star me-2"></i>Recommendations
                    </a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="#learning" data-section="learning">
                        <i class="fas fa-book-reader me-2"></i>Learning Path
                    </a>
                </li>
            </ul>

            <!-- Right Side Navigation -->
            <ul class="navbar-nav ms-auto">
                <!-- Progress Indicator -->
                <li class="nav-item">
                    <div class="nav-progress">
                        <span class="progress-label">Profile Completion</span>
                        <div class="progress-bar-nav">
                            <div class="progress-fill" style="width: 65%;"></div>
                        </div>
                        <span class="progress-percentage">65%</span>
                    </div>
                </li>
                
                <!-- Notifications -->
                <li class="nav-item dropdown">
                    <a class="nav-link position-relative" href="#" id="notificationsDropdown" role="button" 
                       data-bs-toggle="dropdown" aria-expanded="false">
                        <i class="fas fa-bell"></i>
                        <span class="notification-badge">3</span>
                    </a>
                    <ul class="dropdown-menu dropdown-menu-end dropdown-menu-dark notification-dropdown">
                        <li class="dropdown-header">
                            <i class="fas fa-bell me-2"></i>Notifications
                            <span class="badge bg-primary ms-2">3</span>
                        </li>
                        <li><hr class="dropdown-divider"></li>
                        <li>
                            <a class="dropdown-item notification-item" href="#">
                                <div class="notification-content">
                                    <div class="notification-icon bg-success">
                                        <i class="fas fa-check"></i>
                                    </div>
                                    <div class="notification-text">
                                        <strong>Resume analyzed</strong>
                                        <small>Your resume has been successfully processed</small>
                                    </div>
                                    <small class="notification-time">2m ago</small>
                                </div>
                            </a>
                        </li>
                        <li>
                            <a class="dropdown-item notification-item" href="#">
                                <div class="notification-content">
                                    <div class="notification-icon bg-info">
                                        <i class="fas fa-star"></i>
                                    </div>
                                    <div class="notification-text">
                                        <strong>New recommendations</strong>
                                        <small>5 new career matches found for you</small>
                                    </div>
                                    <small class="notification-time">1h ago</small>
                                </div>
                            </a>
                        </li>
                        <li>
                            <a class="dropdown-item notification-item" href="#">
                                <div class="notification-content">
                                    <div class="notification-icon bg-warning">
                                        <i class="fas fa-exclamation-triangle"></i>
                                    </div>
                                    <div class="notification-text">
                                        <strong>Skills assessment</strong>
                                        <small>Complete your assessment to improve recommendations</small>
                                    </div>
                                    <small class="notification-time">3h ago</small>
                                </div>
                            </a>
                        </li>
                        <li><hr class="dropdown-divider"></li>
                        <li>
                            <a class="dropdown-item text-center" href="#">
                                <i class="fas fa-eye me-1"></i>View All Notifications
                            </a>
                        </li>
                    </ul>
                </li>

                <!-- User Profile -->
                <li class="nav-item dropdown">
                    <a class="nav-link dropdown-toggle" href="#" id="userDropdown" role="button" 
                       data-bs-toggle="dropdown" aria-expanded="false">
                        <div class="user-avatar">
                            <img src="https://ui-avatars.com/api/?name=John+Doe&background=007bff&color=fff" 
                                 alt="User Avatar" class="rounded-circle">
                        </div>
                        <span class="user-name d-none d-lg-inline">John Doe</span>
                    </a>
                    <ul class="dropdown-menu dropdown-menu-end dropdown-menu-dark">
                        <li class="dropdown-header">
                            <div class="user-info">
                                <img src="https://ui-avatars.com/api/?name=John+Doe&background=007bff&color=fff" 
                                     alt="User Avatar" class="rounded-circle me-2" style="width: 40px; height: 40px;">
                                <div>
                                    <strong>John Doe</strong>
                                    <small class="d-block text-muted">john.doe@example.com</small>
                                </div>
                            </div>
                        </li>
                        <li><hr class="dropdown-divider"></li>
                        <li><a class="dropdown-item" href="#profile" data-section="profile">
                            <i class="fas fa-user me-2"></i>My Profile</a></li>
                        <li><a class="dropdown-item" href="#settings" data-section="settings">
                            <i class="fas fa-cog me-2"></i>Settings</a></li>
                        <li><a class="dropdown-item" href="#help">
                            <i class="fas fa-question-circle me-2"></i>Help & Support</a></li>
                        <li><hr class="dropdown-divider"></li>
                        <li><a class="dropdown-item text-danger" href="auth.html">
                            <i class="fas fa-sign-out-alt me-2"></i>Sign Out</a></li>
                    </ul>
                </li>
            </ul>
        </div>
    </div>
</nav>

<!-- Search Bar (can be toggled) -->
<div class="search-overlay d-none" id="searchOverlay">
    <div class="search-container">
        <div class="search-header">
            <h5><i class="fas fa-search me-2"></i>Search Everything</h5>
            <button class="btn-close btn-close-white" id="closeSearch"></button>
        </div>
        <div class="search-input-container">
            <input type="text" class="form-control search-input" placeholder="Search careers, skills, courses...">
            <div class="search-suggestions">
                <!-- Dynamic suggestions will be added here -->
            </div>
        </div>
    </div>
</div>

<style>
/* Navigation Styles */
.navbar {
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%) !important;
    backdrop-filter: blur(10px);
    border-bottom: 1px solid rgba(255, 255, 255, 0.1);
    transition: all 0.3s ease;
    min-height: 70px;
    padding: 0.5rem 0;
}

.navbar.scrolled {
    background: rgba(33, 37, 41, 0.95) !important;
}

/* Brand Animation */
.animated-brand {
    text-decoration: none !important;
    transition: all 0.3s ease;
}

.brand-container {
    display: flex;
    align-items: center;
    gap: 0.75rem;
}

.brand-icon {
    width: 45px;
    height: 45px;
    background: linear-gradient(45deg, #ff6b6b, #ee5a24);
    border-radius: 12px;
    display: flex;
    align-items: center;
    justify-content: center;
    color: white;
    font-size: 1.5rem;
    animation: brandPulse 2s ease-in-out infinite;
}

.brand-text {
    display: flex;
    flex-direction: column;
    line-height: 1.2;
}

.brand-title {
    font-size: 1.5rem;
    font-weight: bold;
    color: white;
    margin: 0;
}

.brand-subtitle {
    font-size: 0.75rem;
    color: rgba(255, 255, 255, 0.7);
    margin: 0;
}

@keyframes brandPulse {
    0%, 100% {
        transform: scale(1);
        box-shadow: 0 0 0 0 rgba(255, 107, 107, 0.7);
    }
    50% {
        transform: scale(1.05);
        box-shadow: 0 0 0 10px rgba(255, 107, 107, 0);
    }
}

.animated-brand:hover .brand-icon {
    transform: rotate(15deg) scale(1.1);
    background: linear-gradient(45deg, #ee5a24, #ff6b6b);
}

/* Navigation Links */
.nav-link {
    font-weight: 500;
    transition: all 0.3s ease;
    position: relative;
    border-radius: 8px;
    margin: 0 0.25rem;
    overflow: hidden;
}

.nav-link:hover {
    background: rgba(255, 255, 255, 0.1);
    transform: translateY(-2px);
}

.nav-link.active {
    background: rgba(255, 255, 255, 0.15);
}

.nav-link::before {
    content: '';
    position: absolute;
    bottom: 0;
    left: 50%;
    width: 0;
    height: 2px;
    background: #ff6b6b;
    transition: all 0.3s ease;
    transform: translateX(-50%);
}

.nav-link:hover::before,
.nav-link.active::before {
    width: 80%;
}

/* Progress Indicator */
.nav-progress {
    display: flex;
    align-items: center;
    gap: 0.5rem;
    padding: 0.5rem 1rem;
    background: rgba(255, 255, 255, 0.1);
    border-radius: 20px;
    margin: 0 0.5rem;
}

.progress-label {
    font-size: 0.8rem;
    color: rgba(255, 255, 255, 0.8);
    white-space: nowrap;
}

.progress-bar-nav {
    width: 80px;
    height: 6px;
    background: rgba(255, 255, 255, 0.2);
    border-radius: 3px;
    overflow: hidden;
}

.progress-fill {
    height: 100%;
    background: linear-gradient(90deg, #00d2ff, #3a7bd5);
    border-radius: 3px;
    transition: width 0.8s ease;
}

.progress-percentage {
    font-size: 0.8rem;
    color: white;
    font-weight: 600;
}

/* User Avatar */
.user-avatar {
    width: 35px;
    height: 35px;
    overflow: hidden;
    border-radius: 50%;
    border: 2px solid rgba(255, 255, 255, 0.3);
    transition: all 0.3s ease;
    margin-right: 0.5rem;
}

.user-avatar:hover {
    border-color: #ff6b6b;
    transform: scale(1.1);
}

.user-avatar img {
    width: 100%;
    height: 100%;
    object-fit: cover;
}

/* Notification Badge */
.notification-badge {
    position: absolute;
    top: -5px;
    right: -5px;
    width: 18px;
    height: 18px;
    background: #ff4757;
    border-radius: 50%;
    font-size: 0.7rem;
    display: flex;
    align-items: center;
    justify-content: center;
    animation: pulse 2s infinite;
}

/* Dropdown Enhancements */
.dropdown-menu {
    border: none;
    box-shadow: 0 10px 40px rgba(0, 0, 0, 0.2);
    border-radius: 12px;
    margin-top: 0.5rem;
    animation: slideDown 0.3s ease;
}

@keyframes slideDown {
    from {
        opacity: 0;
        transform: translateY(-10px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

.dropdown-item {
    padding: 0.75rem 1rem;
    transition: all 0.3s ease;
    border-radius: 8px;
    margin: 0 0.5rem;
}

.dropdown-item:hover {
    background: rgba(255, 255, 255, 0.1);
    transform: translateX(5px);
}

/* Notification Dropdown */
.notification-dropdown {
    min-width: 350px;
    max-height: 400px;
    overflow-y: auto;
}

.notification-item {
    padding: 1rem;
    border-bottom: 1px solid rgba(255, 255, 255, 0.1);
}

.notification-content {
    display: flex;
    align-items: flex-start;
    gap: 0.75rem;
}

.notification-icon {
    width: 35px;
    height: 35px;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    flex-shrink: 0;
}

.notification-text {
    flex: 1;
    min-width: 0;
}

.notification-time {
    color: rgba(255, 255, 255, 0.6);
    white-space: nowrap;
}

/* User Info in Dropdown */
.user-info {
    display: flex;
    align-items: center;
    padding: 0.5rem 0;
}

/* Search Overlay */
.search-overlay {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: rgba(0, 0, 0, 0.9);
    z-index: 9999;
    display: flex;
    align-items: center;
    justify-content: center;
    backdrop-filter: blur(10px);
}

.search-container {
    width: 90%;
    max-width: 600px;
    background: rgba(255, 255, 255, 0.1);
    border-radius: 20px;
    padding: 2rem;
    backdrop-filter: blur(20px);
    border: 1px solid rgba(255, 255, 255, 0.2);
}

.search-header {
    display: flex;
    justify-content: between;
    align-items: center;
    margin-bottom: 1.5rem;
    color: white;
}

.search-input {
    background: rgba(255, 255, 255, 0.1);
    border: 1px solid rgba(255, 255, 255, 0.2);
    color: white;
    font-size: 1.2rem;
    padding: 1rem;
    border-radius: 12px;
}

.search-input:focus {
    background: rgba(255, 255, 255, 0.15);
    border-color: #007bff;
    color: white;
    box-shadow: none;
}

.search-input::placeholder {
    color: rgba(255, 255, 255, 0.6);
}

/* Mobile Responsiveness */
@media (max-width: 992px) {
    .nav-progress {
        display: none;
    }
    
    .brand-text .brand-subtitle {
        display: none;
    }
    
    .notification-dropdown {
        min-width: 280px;
    }
}

@media (max-width: 768px) {
    .navbar {
        padding: 0.25rem 0;
    }
    
    .brand-icon {
        width: 35px;
        height: 35px;
        font-size: 1.2rem;
    }
    
    .brand-title {
        font-size: 1.2rem;
    }
    
    .user-name {
        display: none !important;
    }
    
    .search-container {
        width: 95%;
        padding: 1.5rem;
    }
}

/* Smooth scrolling for navbar links */
html {
    scroll-padding-top: 80px;
}
</style>

<script>
// Navigation functionality
document.addEventListener('DOMContentLoaded', function() {
    // Navbar scroll effect
    window.addEventListener('scroll', function() {
        const navbar = document.querySelector('.navbar');
        if (window.scrollY > 50) {
            navbar.classList.add('scrolled');
        } else {
            navbar.classList.remove('scrolled');
        }
    });
    
    // Active navigation highlighting
    const navLinks = document.querySelectorAll('.nav-link[data-section]');
    navLinks.forEach(link => {
        link.addEventListener('click', function(e) {
            // Remove active class from all nav links
            navLinks.forEach(nl => nl.classList.remove('active'));
            // Add active class to clicked link
            this.classList.add('active');
            
            // If there's a data-section attribute, handle section switching
            const section = this.getAttribute('data-section');
            if (section) {
                // You can implement section switching logic here
                console.log('Switching to section:', section);
            }
        });
    });
    
    // Search overlay functionality
    const searchTriggers = document.querySelectorAll('[data-search]');
    const searchOverlay = document.getElementById('searchOverlay');
    const closeSearch = document.getElementById('closeSearch');
    const searchInput = document.querySelector('.search-input');
    
    searchTriggers.forEach(trigger => {
        trigger.addEventListener('click', function() {
            searchOverlay.classList.remove('d-none');
            setTimeout(() => searchInput.focus(), 100);
        });
    });
    
    if (closeSearch) {
        closeSearch.addEventListener('click', function() {
            searchOverlay.classList.add('d-none');
        });
    }
    
    if (searchOverlay) {
        searchOverlay.addEventListener('click', function(e) {
            if (e.target === searchOverlay) {
                searchOverlay.classList.add('d-none');
            }
        });
    }
    
    // Keyboard shortcuts
    document.addEventListener('keydown', function(e) {
        // Ctrl/Cmd + K for search
        if ((e.ctrlKey || e.metaKey) && e.key === 'k') {
            e.preventDefault();
            if (!searchOverlay.classList.contains('d-none')) {
                searchOverlay.classList.add('d-none');
            } else {
                searchOverlay.classList.remove('d-none');
                setTimeout(() => searchInput.focus(), 100);
            }
        }
        
        // Escape to close search
        if (e.key === 'Escape' && !searchOverlay.classList.contains('d-none')) {
            searchOverlay.classList.add('d-none');
        }
    });
    
    // Notification animations
    const notificationItems = document.querySelectorAll('.notification-item');
    notificationItems.forEach((item, index) => {
        item.style.animationDelay = `${index * 0.1}s`;
        item.classList.add('fadeInLeft');
    });
    
    // Progress bar animation on load
    const progressFill = document.querySelector('.progress-fill');
    if (progressFill) {
        setTimeout(() => {
            progressFill.style.width = progressFill.style.width || '65%';
        }, 500);
    }
    
    // Initialize tooltips
    const tooltipTriggerList = [].slice.call(document.querySelectorAll('[data-bs-toggle="tooltip"]'));
    tooltipTriggerList.map(function(tooltipTriggerEl) {
        return new bootstrap.Tooltip(tooltipTriggerEl);
    });
});
</script>